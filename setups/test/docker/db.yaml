services:
  timescaledb:
    container_name: timescaledb
    image: timescale/timescaledb:latest-pg13
    # remap to 5433 so can run on mac with local db also
    ports:
      - '5433:5432/tcp'
    environment:
      POSTGRES_DB: $PGDATABASE
      POSTGRES_USERNAME: $PGUSER
      POSTGRES_PASSWORD: $PGPASSWORD
    volumes:
      - ../volumes/timescaledb:/var/lib/postgresql/data
    deploy:
      restart_policy:
        condition: on-failure
    networks:
      - ladder99

networks:
  ladder99:
    name: ladder99
